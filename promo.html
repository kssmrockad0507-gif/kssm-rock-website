<!DOCTYPE html>
<html>
<head>
    <title>Promo Code</title>

    <style>
        body {
            margin: 0; padding: 0;
            background: linear-gradient(180deg, #0e5d63, #07404b);
            font-family: Arial, sans-serif;
            color: white;
            text-align: center;
        }

        /* MAIN CARD */
        .card {
            width: 85%;
            margin: 35px auto;
            background: white;
            border-radius: 25px;
            padding: 25px;
            color: black;
        }

        .title {
            font-size: 30px;
            font-weight: bold;
            margin-bottom: 25px;
        }

        /* PROMO INPUT BOX */
        .promoInput {
            width: 85%;
            padding: 18px;
            font-size: 22px;
            border-radius: 15px;
            border: 2px solid #195c63;
            outline: none;
            margin-bottom: 15px;
        }

        /* APPLY BUTTON */
        .applyBtn {
            background: linear-gradient(180deg, #195c63, #0d434a);
            padding: 18px;
            width: 85%;
            color: white;
            border-radius: 15px;
            font-size: 25px;
            font-weight: bold;
            cursor: pointer;
            margin: auto;
        }

        /* TELEGRAM BOX */
        .tgBox {
            width: 85%;
            background: white;
            padding: 18px;
            border-radius: 20px;
            margin: 25px auto 0 auto;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
            font-weight: bold;
            cursor: pointer;
        }

        .tgLogo {
            width: 30px;
            margin-right: 12px;
        }

        /* EXIT BUTTON */
        .exitBtn {
            position: absolute;
            top: 20px; left: 20px;
            background: white;
            padding: 10px 18px;
            color: black;
            border-radius: 10px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 0 5px rgba(0,0,0,0.4);
        }

        /* COIN BOX TOP RIGHT */
        .coinBoxTop {
            position: absolute;
            top: 20px; right: 20px;
            background: white;
            color: black;
            padding: 10px 20px;
            border-radius: 20px;
            font-weight: bold;
            display: flex;
            align-items: center;
        }

        .coinIcon {
            width: 28px;
            margin-right: 10px;
        }

        #msg {
            margin-top: 15px;
            font-size: 20px;
            font-weight: bold;
        }

    </style>
</head>

<body>

    <!-- EXIT -->
    <div class="exitBtn" onclick="goHome()">‚Üê Back</div>

    <!-- COINS DISPLAY -->
    <div class="coinBoxTop">
        <img src="https://cdn-icons-png.flaticon.com/512/138/138292.png" class="coinIcon">
        <span id="userCoins">0</span>
    </div>

    <div class="card">

        <div class="title">Enter Promo Code</div>

        <input id="promoCode" class="promoInput" placeholder="Enter Promo Code">

        <div class="applyBtn" onclick="applyPromo()">APPLY</div>

        <div id="msg"></div>

    </div>

    <!-- TELEGRAM BOX -->
    <div class="tgBox" onclick="openTG()">
        <img class="tgLogo" src="https://upload.wikimedia.org/wikipedia/commons/8/82/Telegram_logo.svg">
        For Latest Promo Codes
    </div>


<script>
    let userCoins = 0;   // Firestore ‡Æá‡Æ∞‡ØÅ‡Æ®‡Øç‡Æ§‡ØÅ load ‡Æ™‡Æ£‡Øç‡Æ£‡Æµ‡Øá‡Æ£‡Øç‡Æü‡ØÅ‡ÆÆ‡Øç
    let todayPromoUsed = false;   // Firestore-‡Æ≤‡Øç save ‡ÆÜ‡Æï‡ØÅ‡ÆÆ‡Øç

    // HOME PAGE‡Æï‡Øç‡Æï‡ØÅ ‡Æö‡ØÜ‡Æ≤‡Øç‡Æ≤
    function goHome() {
        window.location.href = "index.html"; 
    }

    // TELEGRAM
    function openTG() {
        window.location.href = "https://t.me/kssmrockreward";
    }

    // PROMO CHECK
    function applyPromo() {
        let code = document.getElementById("promoCode").value.trim();
        let msg = document.getElementById("msg");

        if (todayPromoUsed) {
            msg.style.color = "red";
            msg.innerHTML = "‚úî Already used today's promo code!";
            return;
        }

        if (code === "") {
            msg.style.color = "red";
            msg.innerHTML = "Enter a promo code!";
            return;
        }

        // üî• DAILY PROMO CODE (You will update daily)
        const todayCode = "KSSM100";   // ‡Æá‡Æ§‡Øà ‡Æ®‡ØÄ‡Æô‡Øç‡Æï ‡Æ§‡Æø‡Æ©‡ÆÆ‡ØÅ‡ÆÆ‡Øç ‡ÆÆ‡Ææ‡Æ±‡Øç‡Æ±‡Æø‡Æï‡Øç‡Æï‡Æ≤‡Ææ‡ÆÆ‡Øç

        if (code === todayCode) {

            // +20 coins add (example)
            let addCoin = 20;

            userCoins += addCoin;
            document.getElementById("userCoins").innerHTML = userCoins;

            msg.style.color = "green";
            msg.innerHTML = "üéâ Promo Applied! +" + addCoin + " coins added!";

            todayPromoUsed = true;

            // Firestore update example:
            /*
            db.collection("users").doc(user.uid).update({
                coins: firebase.firestore.FieldValue.increment(addCoin),
                lastPromo: todayDate
            })
            */

        } else {
            msg.style.color = "red";
            msg.innerHTML = "‚ùå Invalid Promo Code!";
        }
    }
</script>

</body>
</html>
